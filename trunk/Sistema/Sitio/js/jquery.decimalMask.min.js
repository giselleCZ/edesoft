(function(a){a.fn.decimalMask=function(j){if(!j||!j.match){throw"decimalMask: you must set the mask string."}var e,c=/^-/.test(j)?"(-)?":"",d=(function(){e=j.match(/[0-9]{1,}/);return e!==null?e[0].length:0})(),b=(function(){e=j.match(/[0-9]{1,}$/);return e!==null?e[0].length:0})(),i=(function(){e=j.match(/,|\./);return e!==null?e[0]:null})(),f=null,h=/.*MSIE 8.*|.*MSIE 7.*|.*MSIE 6.*|.*MSIE 5.*/.test(navigator.userAgent)?"keyup propertychange paste":"input paste";if(i===null){f=new RegExp("^"+c+"[0-9]{0,"+d+"}$")}else{f=new RegExp("^"+c+"[0-9]{0,"+d+"}"+(i==="."?"\\.":",")+"[0-9]{0,"+b+"}$|^"+c+"[0-9]{0,"+d+"}"+(i==="."?"\\.":",")+"$|^"+c+"[0-9]{0,"+d+"}$")}function g(l){var k=a(l.currentTarget);if(k.val()!==l.data.ov){if(!f.test(k.val())){k.val(l.data.ov)}l.data.ov=k.val()}}this.attr("maxlength",d+b+(i===null?0:1)+(c===""?0:1)).val(this.val()?this.val().replace(".",i):this.val()).on(h,{ov:this.val()},g)}})(jQuery);